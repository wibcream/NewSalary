<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>การปรับฐานเงินเดือน รอบแรก 2567</title>
        <link rel="icon" href="images/snow-globe.ico" type="image/x-icon" />
        <!-- Bootstrap CSS -->
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
        <!-- SweetAlert2 CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11" />
        <style>
            @import url("https://fonts.googleapis.com/css2?family=Niramit:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&display=swap");

            .niramit-regular {
                font-family: "Niramit", sans-serif;
                font-weight: 400;
                font-style: normal;
            }

            #notes {
                color: rgb(200, 200, 200);
                font-size: 80%;
            }

            body {
               margin-top: 5%; 
            }
        </style>
    </head>
    <body class="niramit-regular">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-7">
                    <div class="card">
                        <div class="card-body">
                            <h2 class="text-center">การปรับฐานเงินเดือน รอบแรก 2567</h2>
                            <h6 class="text-center">กรณี บรรจุแต่งตั้งก่อน 1 พ.ค. 2567 (เงินเดือนชดเชย) </h6><br>
                            <form id="salaryForm">
                                <div class="form-group">
                                    <label for="degreeType" class="form-label">วุฒิการศึกษา</label>
                                    <select class="form-control" id="degreeType">
                                        <option value="ปวส.">ปวส.</option>
                                        <option value="ปริญญาตรี">ปริญญาตรี</option>
                                        <option value="ปริญญาโท">ปริญญาโท หรือเทียบเท่า</option>
                                        <option value="ปริญญาเอก">ปริญญาเอก หรือเทียบเท่า</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="salary" class="form-label">เงินเดือน (บาท)</label>
                                    <input type="number" class="form-control" id="salary" placeholder="กรอกเงินเดือน" />
                                    <div id="notes" class="form-text text-muted">
                                        *กรอกเงินเดือนหลังการประเมินรอบ เม.ย. 2567
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary btn-block">คำนวณเงินเดือน</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Bootstrap JS -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <!-- SweetAlert2 JS -->
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script>
            // เมื่อฟอร์มถูกส่ง
            $("#salaryForm").submit(function (event) {
                // ป้องกันการส่งฟอร์มไปยัง URL ที่ระบุในแอ็ตทริบิวต์ action
                event.preventDefault();

                // รับค่าจากฟอร์ม
                var degreeType = $("#degreeType").val();
                var salary = parseInt($("#salary").val());

                var originalSalary = salary; // เก็บเงินเดือนก่อนปรับ
                var addedAmount = salary - originalSalary; // เก็บจำนวนเงินที่เพิ่มเข้าไป

                // ตรวจสอบเงื่อนไขและแสดง SweetAlert2 หากเงื่อนไขไม่ถูกต้อง
                if (
                    (degreeType === "ปวส." && (salary < 11500 || salary > 24410)) ||
                    (degreeType === "ปริญญาตรี" && (salary < 15000 || salary > 33110)) ||
                    (degreeType === "ปริญญาโท" && (salary < 17500 || salary > 38810)) ||
                    (degreeType === "ปริญญาเอก" && (salary < 21000 || salary > 47510))
                ) {
                    Swal.fire({
                        icon: "warning",
                        title: "ขออภัย...",
                        text: "ฐานเงินเดือนไม่เข้าหลักเกณฑ์การปรับฐานเงินเดือน รอบแรก 2567",
                        footer: '<a href="images/IMG01.jpg" target="_blank">ดูข้อมูลเพิ่มเติม</a>',
                    });
                    return; // ออกจากการทำงานของฟังก์ชัน
                } // ปรับเงินเดือนตามเงื่อนไขที่กำหนด
                switch (degreeType) {
                    case "ปวส.":
                        if (salary >= 11500 && salary <= 13600) {
                            addedAmount = 1150;
                            salary += addedAmount;
                            salary = Math.min(salary, 14560);
                        } else if (salary >= 13610 && salary <= 15700) {
                            addedAmount = 950;
                            salary += addedAmount;
                            salary = Math.min(salary, 16460);
                        } else if (salary >= 15710 && salary <= 17800) {
                            addedAmount = 750;
                            salary += addedAmount;
                            salary = Math.min(salary, 18360);
                        } else if (salary >= 17810 && salary <= 19900) {
                            addedAmount = 550;
                            salary += addedAmount;
                            salary = Math.min(salary, 20260);
                        } else if (salary >= 19910 && salary <= 22000) {
                            addedAmount = 350;
                            salary += addedAmount;
                            salary = Math.min(salary, 22160);
                        } else if (salary >= 22010 && salary <= 24400) {
                            addedAmount = 150;
                            salary += addedAmount;
                            salary = Math.min(salary, 24410);
                        } else {
                            addedAmount = "ฐานเงินเดือนไม่เข้าหลักเกณฑ์การปรับฐานเงินเดือน รอบแรก 2567";
                        }
                        break;
                    case "ปริญญาตรี":
                        if (salary >= 15000 && salary <= 17200) {
                            addedAmount = 1500;
                            salary += addedAmount;
                            salary = Math.min(salary, 18510);
                        } else if (salary >= 17210 && salary <= 19400) {
                            addedAmount = 1300;
                            salary += addedAmount;
                            salary = Math.min(salary, 20510);
                        } else if (salary >= 19410 && salary <= 21600) {
                            addedAmount = 1100;
                            salary += addedAmount;
                            salary = Math.min(salary, 22510);
                        } else if (salary >= 21610 && salary <= 23800) {
                            addedAmount = 900;
                            salary += addedAmount;
                            salary = Math.min(salary, 24510);
                        } else if (salary >= 23810 && salary <= 26000) {
                            addedAmount = 700;
                            salary += addedAmount;
                            salary = Math.min(salary, 26510);
                        } else if (salary >= 26010 && salary <= 28200) {
                            addedAmount = 500;
                            salary += addedAmount;
                            salary = Math.min(salary, 28510);
                        } else if (salary >= 28210 && salary <= 30400) {
                            addedAmount = 300;
                            salary += addedAmount;
                            salary = Math.min(salary, 30510);
                        } else if (salary >= 30410 && salary <= 33100) {
                            addedAmount = 100;
                            salary += addedAmount;
                            salary = Math.min(salary, 33110);
                        } else {
                            addedAmount = "ฐานเงินเดือนไม่เข้าหลักเกณฑ์การปรับฐานเงินเดือน รอบแรก 2567";
                        }
                        break;
                    case "ปริญญาโท":
                        if (salary >= 17500 && salary <= 19800) {
                            addedAmount = 1750;
                            salary += addedAmount;
                            salary = Math.min(salary, 21360);
                        } else if (salary >= 19810 && salary <= 22100) {
                            addedAmount = 1550;
                            salary += addedAmount;
                            salary = Math.min(salary, 23460);
                        } else if (salary >= 22110 && salary <= 24400) {
                            addedAmount = 1350;
                            salary += addedAmount;
                            salary = Math.min(salary, 25560);
                        } else if (salary >= 24410 && salary <= 26700) {
                            addedAmount = 1150;
                            salary += addedAmount;
                            salary = Math.min(salary, 27660);
                        } else if (salary >= 26710 && salary <= 29000) {
                            addedAmount = 950;
                            salary += addedAmount;
                            salary = Math.min(salary, 29760);
                        } else if (salary >= 29010 && salary <= 31300) {
                            addedAmount = 750;
                            salary += addedAmount;
                            salary = Math.min(salary, 31860);
                        } else if (salary >= 31310 && salary <= 33600) {
                            addedAmount = 550;
                            salary += addedAmount;
                            salary = Math.min(salary, 33960);
                        } else if (salary >= 33610 && salary <= 35900) {
                            addedAmount = 350;
                            salary += addedAmount;
                            salary = Math.min(salary, 36060);
                        } else if (salary >= 35910 && salary <= 38800) {
                            addedAmount = 150;
                            salary += addedAmount;
                            salary = Math.min(salary, 38810);
                        } else {
                            addedAmount = "ฐานเงินเดือนไม่เข้าหลักเกณฑ์การปรับฐานเงินเดือน รอบแรก 2567";
                        }
                        break;
                    case "ปริญญาเอก":
                        if (salary >= 21000 && salary <= 23400) {
                            addedAmount = 2100;
                            salary += addedAmount;
                            salary = Math.min(salary, 25310);
                        } else if (salary >= 23410 && salary <= 25800) {
                            addedAmount = 1900;
                            salary += addedAmount;
                            salary = Math.min(salary, 27510);
                        } else if (salary >= 25810 && salary <= 28200) {
                            addedAmount = 1700;
                            salary += addedAmount;
                            salary = Math.min(salary, 29710);
                        } else if (salary >= 28210 && salary <= 30600) {
                            addedAmount = 1500;
                            salary += addedAmount;
                            salary = Math.min(salary, 31910);
                        } else if (salary >= 30610 && salary <= 33000) {
                            addedAmount = 1300;
                            salary += addedAmount;
                            salary = Math.min(salary, 34110);
                        } else if (salary >= 33010 && salary <= 35400) {
                            addedAmount = 1100;
                            salary += addedAmount;
                            salary = Math.min(salary, 36310);
                        } else if (salary >= 35410 && salary <= 37800) {
                            addedAmount = 900;
                            salary += addedAmount;
                            salary = Math.min(salary, 38510);
                        } else if (salary >= 37810 && salary <= 40200) {
                            addedAmount = 700;
                            salary += addedAmount;
                            salary = Math.min(salary, 40710);
                        } else if (salary >= 40210 && salary <= 42600) {
                            addedAmount = 500;
                            salary += addedAmount;
                            salary = Math.min(salary, 42910);
                        } else if (salary >= 42610 && salary <= 45000) {
                            addedAmount = 300;
                            salary += addedAmount;
                            salary = Math.min(salary, 45110);
                        } else if (salary >= 45010 && salary <= 47500) {
                            addedAmount = 100;
                            salary += addedAmount;
                            salary = Math.min(salary, 47510);
                        } else {
                            addedAmount = "เงินเดือนไม่เข้าหลักเกณฑ์การปรับฐานเงินเดือน รอบแรก 2567";
                        }
                        break;
                    default:
                        Swal.fire({
                            icon: "error",
                            title: "Oops...",
                            text: "Something went wrong!",
                            footer: '<a href="#">Why do I have this issue?</a>',
                        });
                        break;
                }

                // แปลงเงินเดือนเป็นรูปแบบที่ถูกต้อง (เพิ่ม , คั่นเลข)
                var formatCurrency = function (value) {
                    var number = parseInt(value);
                    return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                };

                Swal.fire({
                    title: "ผลลัพธ์การปรับฐานเงินเดือน <br> รอบแรก 2567",
                    html:
                        "วุฒิการศึกษา: <b>" +
                        degreeType +
                        "</b>" +
                        "<br>เงินเดือนก่อนปรับ: <b>" +
                        formatCurrency(originalSalary) +
                        " บาท</b>" +
                        "<br>เงินที่ได้เพิ่ม: <b>" +
                        formatCurrency(addedAmount) +
                        " บาท</b>" +
                        "<br>เงินเดือนหลังปรับ: <b>" +
                        formatCurrency(salary) +
                        " บาท</b>",
                    icon: "success",
                });
            });
        </script>
    </body>
    
</html>
